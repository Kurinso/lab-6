# Lab6


Лабораторная работа
Реализация классов "Кот" и "Дробь" в C#
Цель работы
Разработка объектно-ориентированного приложения на C#, реализующего функциональность для работы с котами (способными мяукать) и математическими дробями с поддержкой основных арифметических операций.

Выполненные задания
Задание 1. Кот
1.1 Класс Cat

Реализован класс Cat с полями:

Name (string) - имя кота (только для чтения)

MeowCount (int) - счетчик мяуканий (только для чтения)

Конструктор принимает имя кота с валидацией

Методы:

Meow() - однократное мяуканье

Meow(int count) - мяуканье N раз

ToString() - строковое представление "кот: Имя"

Валидация входных данных:

Имя не может быть пустым или длиннее 50 символов

Количество мяуканий должно быть от 1 до 100

1.2 Интерфейс IMeowable

Создан интерфейс IMeowable с методом Meow()

Класс Cat реализует IMeowable

Создан дополнительный класс RobotCat (робот-кот), также реализующий IMeowable

Реализован статический класс MeowService с методом MakeAllMeow<T>(), работающим с любыми объектами, реализующими IMeowable

1.3 Подсчет мяуканий

Реализован декоратор MeowCounter, который:

Реализует паттерн "Декоратор"

Подсчитывает количество вызовов метода Meow()

Не изменяет исходный класс Cat

Декоратор позволяет передавать кота в метод MakeAllMeow() и после его выполнения узнать, сколько раз кот мяукал

Задание 2. Дроби
2.1 Класс Fraction

Реализован класс Fraction с полями:

Numerator (int) - числитель (только для чтения)

Denominator (int) - знаменатель (только для чтения)

Конструкторы:

Fraction(int numerator, int denominator) - создание дроби

Fraction(int wholeNumber) - создание дроби из целого числа

Особенности:

Автоматическое сокращение дробей

Знаменатель всегда положительный (знак хранится в числителе)

Валидация знаменателя (не может быть равен 0)

Арифметические операции:

Сложение: Add(), оператор +

Вычитание: Subtract(), оператор -

Умножение: Multiply(), оператор *

Деление: Divide(), оператор /

Все операции возвращают новые объекты, не изменяя исходные

2.2 Сравнение дробей

Переопределены методы:

Equals() - сравнение по состоянию

GetHashCode() - генерация хэш-кода

Перегружены операторы == и !=

Две дроби считаются равными, если равны их числители и знаменатели (после сокращения)

2.3 Клонирование

Реализован интерфейс ICloneable

Метод Clone() возвращает новый объект с такими же значениями полей

2.4 Интерфейс IFractionOperations и кэширование

Создан интерфейс IFractionOperations с методами:

GetRealValue() - получение вещественного значения

SetNumerator() - установка числителя

SetDenominator() - установка знаменателя

Реализован декоратор CachedFraction, который:

Кэширует вычисленное вещественное значение

Сбрасывает кэш при изменении числителя или знаменателя

Ускоряет повторные вычисления

Архитектурные решения
Принцип единственной ответственности:

Каждый класс имеет четко определенную зону ответственности

Отдельные классы для различных видов функциональности

Принцип открытости/закрытости:

Использование интерфейсов позволяет расширять функциональность

Декораторы добавляют новую функциональность без изменения существующих классов

Паттерн "Декоратор":

MeowCounter для подсчета мяуканий

CachedFraction для кэширования вычислений

Обработка ошибок:

Проверка всех входных параметров

Информативные исключения с понятными сообщениями

XML-документация:

Полная документация всех классов, методов и свойств

Описание параметров, возвращаемых значений и исключений

Примеры использования
Работа с котами:
csharp
// Создание кота
Cat barsik = new Cat("Барсик");
barsik.Meow();  // Вывод: "Барсик: мяу!"
barsik.Meow(3); // Вывод: "Барсик: мяу-мяу-мяу!"

// Использование интерфейса
List<IMeowable> meowables = new List<IMeowable>
{
    new Cat("Мурзик"),
    new RobotCat("RX-78")
};
MeowService.MakeAllMeow(meowables);

// Подсчет мяуканий
Cat cat = new Cat("Васька");
MeowCounter counter = new MeowCounter(cat);
counter.Meow(); // Увеличивает счетчик
Console.WriteLine(counter.MeowCount); // Вывод: 1
Работа с дробями:
csharp
// Создание дробей
Fraction f1 = new Fraction(1, 3);
Fraction f2 = new Fraction(2, 3);

// Арифметические операции
Fraction sum = f1 + f2;           // 1/3 + 2/3 = 1/1
Fraction diff = f1 - f2;          // 1/3 - 2/3 = -1/3
Fraction prod = f1 * f2;          // 1/3 * 2/3 = 2/9
Fraction quot = f1 / f2;          // 1/3 ÷ 2/3 = 1/2

// Сравнение
Fraction f3 = new Fraction(2, 4); // Автоматически сокращается до 1/2
Fraction f4 = new Fraction(1, 2);
bool areEqual = f3 == f4;         // true

// Клонирование
Fraction original = new Fraction(3, 5);
Fraction clone = (Fraction)original.Clone();

// Кэшированная версия
CachedFraction cached = new CachedFraction(1, 3);
double value1 = cached.GetRealValue(); // Вычисляется
double value2 = cached.GetRealValue(); // Берется из кэша
Тестирование
Программа включает демонстрационный код, который проверяет:

Корректность создания объектов

Работу всех методов

Обработку исключительных ситуаций

Совместимость с интерфейсами

Работу декораторов

Кэширование значений

Выводы
Разработана полная объектно-ориентированная система, реализующая все требования задания

Применены современные подходы проектирования (интерфейсы, декораторы, шаблоны)

Обеспечена надежность через проверку входных данных и обработку исключений

Реализована расширяемость через использование интерфейсов

Добавлена оптимизация производительности через кэширование

Обеспечена полная документация кода в формате XML

Работа демонстрирует понимание принципов ООП, умение работать с интерфейсами, перегрузкой операторов, реализацией шаблонов проектирования и созданием качественной документации.
